# 주변장치

- 그래픽카드, 하드디스트, 키보드, 마우스 등
- 주변장치들은 메인보드에 있는 버스로 연결

![](../images/8_IO-devices/주변장치.png)
- 하나의 버스는 Address, Data, Control 버스로 이루어져 있음
- 각 하드웨어와 맞게 외부인터페이스가 존재
- 장치의 상태와 데이터를 보관할 수 있는 각종 레지스터 존재(입출력 작업시 데이터 저장)

### 캐릭터 디바이스 vs 블록 디바이스
- 데이터의 전송 단위가 캐릭터(글자)냐 블록이냐의 기준
- 캐릭터 디바이스: 
    - 1. 마우스, 키보드, 사운드카드, 직렬/병렬 포트 등
    - 2. 상대적으로 적은 양의 데이터 전송
- 블록 디바이스: 
  - 1. 하드디스크, SSD, 그래픽카드 등
  - 2. 상대적으로 많은 양의 데이터 전송


### 입출력 제어기
![](../images/8_IO-devices/주변장치2.png)
- 예전에는 주변장치들과 CPU를 하나의 버스로 연결하여 사용  
- 입출력 작업이 실행되면 CPU는 대기상태가 되어 CPU 사용률이 떨어지는 문제 발생  
- 이를 해결하기 위해 입출력 제어기와 여러개의 버스를 사용
- 입출력제어기는 두개의 채널, 시스템버스와 입출력 버스(고속입출력+저속입출력)로 구분
- 시스템버스는 고속으로 작동하는 CPU와 메모리가 사용
- 입출력버스는 주변장치가 사용, 고속과 저속입출력 채널로 구분해 속도차이로 인한 병목현상 해결
- 그래픽카드가 다루는 데이터는 매우 대용량이라 고속입출력 채널로도 처리가 불가능해 시스템버스에 바로 연결해 사용
- 입출력제어기는 입출력버스에서 온 데이터를 메모리에 옮기는데, 메모리는 CPU의 명령에 따라 움직이기 때문에 입출력제어기가 메모리에 접근하기 위해선 CPU가 필요
- 입출력제어기가 CPU를 거치지 않고 메모리에 접근할 수 있도록 DMA(Direct Memory Access)제어기가 추가됨
- CPU가 사용하는 메모리 영역과 입출력제어기가 사용하는 메모리영역이 겹치지 않도록 Memory Mapped IO가 존재 