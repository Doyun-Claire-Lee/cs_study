# 메모리 할당 방식

> 유니프로그래밍 환경에서 메모리의 크기보다 더 큰 프로그램을 실행하는 방법은 무엇이였을까?
> - 메모리 오버레이: 큰 프로그램을 메모리에 올릴 수 있도록 잘라서 당장 실행시켜야 할 부분만 메모리에 올리고 나머지는 하드디스크의 스왑영역에 저장하는 기법

### 가변 분할 방식(세그멘테이션)
- 프로세스의 크기에 따라 메모리를 나누는 방식
- 한 프로세스가 메모리의 연속된 공간에 할당되기 때문에 연속 메모리 할당이라고도 한다.
- 장점: 내부단편화 발생X
- 단점: 외부단편화 발생

### 고정 분할 방식(페이징)
- 프로세스의 크기와 상관없이 메모리를 고정된 크기로 나누는 방식
- 한 프로세스가 메모리에 분산되어 할당되기 때문에 비연속 메모리 할당이라고도 한다.
- 장점: 구현이 간단하고 오버헤드가 적음
- 단점: 내부단편화 발생

> 오늘날의 운영체제는 가변분할방식과 고정분할 방식을 혼합하여 사용

### 외부단편화
- 프로세스가 종료되어 비게 된 비연속적인 메모리 공간에 새로운 프로세스를 할당할 수 없는 현상
- 조각모음으로 해결할 수 있으나, 현재 실행되고 있는 프로세스들의 작업을 일시정지하여 메모리공간을 이동시키는 작업을 해야하기 때문에 오버헤드 발생

### 내부단편화
- 메모리에 서로다른 크기를 가지고 있는 여러가지 프로세스가 존재할 때, 필요한 공간을 제외하고 나머지 메모리 공간이 낭비되는 현상
- 해결책은 없으며, 분할되는 크기를 조절하여 외부단편화를 최소화

### 버디시스템
- 가변분할방식과 고정분할방식을 통합해 단점을 최소화한 방식
- 2의승수로 메모리를 분할해 할당하는 방식
- 프로세스가 종료되고 빈 공간이 되어도 2의 승수로 나누어진 값이기 때문에 간단히 조립하여 큰 공간을 만들 수 있음(조각모음보다 간편)
- 장점: 프로세스 크기에 따라 할당되는 메모리가 달라지고 외부단편화를 방지하기 위해 메모리 공간을 확보하는것이 간편
- 내부단편화가 발생하기는 하지만 많은 공간의 낭비가 발생하진 않음.